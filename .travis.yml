language: java

jdk:
    - oraclejdk8

branches:
    except:
        - latest-master
        
before_install:
    - "/sbin/start-stop-daemon --start --quiet --pidfile /tmp/custom_xvfb_99.pid --make-pidfile --background --exec /usr/bin/Xvfb +extension RANDR -- :99 -ac"
        
install:
    - if [ `uname -m` = x86_64 ]; then sudo apt-get install -qq --force-yes jq; fi

after_success:
    - chmod -R 777 ./upload_binaries.sh
    - ./upload_binaries.sh
    - mvn clean test jacoco:report coveralls:jacoco
    
env:
    global:
        secure: "K+vew/JP2/aPnR6YpHQDEnLkY8vfFHRcF/Xm//6q5xTTjvZnRZlJSN8e8aE8ohQFiDClJbIETK0x1v9f/dmWUKxD6QmrNJh5LwErTcmUhVGXooR4ImY/5JBVLeMLq4mLqD61O3dJeo7zzOHHCXD9mTaj0bDySGBdA/hoOVpPFBw="